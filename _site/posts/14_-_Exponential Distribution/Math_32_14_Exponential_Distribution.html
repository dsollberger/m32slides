<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.2.269">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Derek Sollberger">
<meta name="dcterms.date" content="2023-02-22">

<title>Math 32 - 14: Exponential Distribution</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1.6em;
  vertical-align: middle;
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>

  <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script>

<link rel="stylesheet" href="../../styles.css">
</head>

<body class="nav-fixed fullcontent">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg navbar-dark ">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Math 32</span>
    </a>
  </div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../slides.html">
 <span class="menu-text">Slides</span></a>
  </li>  
</ul>
              <div id="quarto-search" class="" title="Search"></div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">14: Exponential Distribution</h1>
                      </div>
  </div>
    
  
  <div class="quarto-title-meta">

      <div>
      <div class="quarto-title-meta-heading">Author</div>
      <div class="quarto-title-meta-contents">
               <p>Derek Sollberger </p>
            </div>
    </div>
      
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">February 22, 2023</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">




<div class="cell">

</div>
<section id="inequalities" class="level2">
<h2 class="anchored" data-anchor-id="inequalities">Inequalities</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Discrete Probability Distributions
</div>
</div>
<div class="callout-body-container callout-body">
<p>The inclusive versus exclusive variation in inequalities matter in discrete probability distributions. With a random variable <span class="math inline">\(X\)</span> defined over a support of <span class="math inline">\(k = \{0, 1, 2, 3, ... \}\)</span> number of trials,</p>
<p><span class="math display">\[P(X &lt; k) = \displaystyle\sum_{i=0}^{k-1} P(i), \quad P(X \leq k) = \displaystyle\sum_{i=0}^{k} P(i)\]</span></p>
<p><span class="math display">\[P(X &lt; 32) = P(k = 0) + P(k = 1) + \cdots + P(k = 31)\]</span></p>
<p><span class="math display">\[P(X \leq 32) = P(k = 0) + P(k = 1) + \cdots + P(k = 31) + P(k = 32)\]</span></p>
</div>
</div>
<div class="callout-caution callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Continuous Probability Distributions
</div>
</div>
<div class="callout-body-container callout-body">
<p>The inclusive versus exclusive variation in inequalities do not matter with continuous probability distributions.</p>
<p><strong>Claim:</strong> For a random variable <span class="math inline">\(X\)</span> with probability density function <span class="math inline">\(f\)</span>, <span class="math display">\[P(X &lt; b) = P(X \leq b)\]</span></p>
</div>
</div>
</section>
<section id="motivation" class="level2">
<h2 class="anchored" data-anchor-id="motivation">Motivation</h2>
<div class="columns">
<div class="column" style="width:50%;">
<p>There are many situations that are better modeled with an open set <span class="math inline">\([a, \infty)\)</span> of support, so we can look at the mother function</p>
<p><span class="math display">\[f(x) = e^{-x}, \quad a &lt; x\]</span></p>
<p>which has a horizontal asymptote. Next, a <em>rate parameter</em> <span class="math inline">\(\lambda\)</span> (“lambda”) gives flexibility in models (i.e.&nbsp;the number we plug in for <span class="math inline">\(\lambda\)</span> depends on the word problem).</p>
<p><span class="math display">\[f(x) = e^{-\lambda x}, \quad a &lt; x\]</span></p>
</div><div class="column" style="width:50%;">
<p><img src="fig13-1.png" class="img-fluid"></p>
</div>
</div>
</section>
<section id="normalization" class="level2">
<h2 class="anchored" data-anchor-id="normalization">Normalization</h2>
<p>Without much loss of generality, we can shift to a support of <span class="math inline">\([0, \infty)\)</span>. Our next goal is to <em>rescale</em> the function values so that the area under the curve is equal to 100 percent.</p>
<ul>
<li>Find the value of <span class="math inline">\(k\)</span> so that <span class="math inline">\(f\)</span> is a probability density function.</li>
</ul>
</section>
<section id="probability-density-function" class="level2">
<h2 class="anchored" data-anchor-id="probability-density-function">Probability Density Function</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Probability Density Function
</div>
</div>
<div class="callout-body-container callout-body">
<p>Having found the value of the scalar <span class="math inline">\(k\)</span>, our probability density function (PDF) is</p>
<p><span class="math display">\[\text{PDF: } f(x) = \begin{cases} \lambda e^{-\lambda x}, &amp; x &gt; 0 \\ 0, &amp; \text{otherwise} \end{cases}\]</span></p>
</div>
</div>
</section>
<section id="cumulative-distribution-function" class="level2">
<h2 class="anchored" data-anchor-id="cumulative-distribution-function">Cumulative Distribution Function</h2>
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Cumulative Distribution Function
</div>
</div>
<div class="callout-body-container callout-body">
<p>To continue to think of probabilities as area under a curve, we derive the cumulative distribution function (CDF) as the integral of the probability density function</p>
<p><span class="math display">\[F(x) = \displaystyle\int_{-\infty}^{x} \! f(t) \, dt = \displaystyle\int_{0}^{x} \! \lambda e^{-\lambda t} \, dt = 1 - e^{-\lambda x}, \quad x &gt; 0\]</span></p>
<p>That is, the CDF of an exponential distribution is</p>
<p><span class="math display">\[F(x) = \begin{cases} 1 - e^{-\lambda x}, &amp; x &gt; 0 \\ 0, &amp; x &lt; 0 \end{cases}\]</span></p>
<p><span class="math display">\[~\]</span></p>
<p>The properties of probability include</p>
<ul>
<li>We start with zero probability <span class="math display">\[\displaystyle\lim_{x \to -\infty} F(x) = 0\]</span></li>
<li>We end with all probability <span class="math display">\[\displaystyle\lim_{x \to \infty} F(x) = 1\]</span></li>
</ul>
</div>
</div>
</section>
<section id="conventions" class="level2">
<h2 class="anchored" data-anchor-id="conventions">Conventions</h2>
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Conventions
</div>
</div>
<div class="callout-body-container callout-body">
<p><img src="exp_conventions.png" class="img-fluid"></p>
<p>The models are related with <span class="math inline">\(\lambda = \displaystyle\frac{1}{\beta}\)</span>. Here in Math 32, we will use the model with the rate parameter <span class="math inline">\(\lambda\)</span> (lambda) to match the convention used by the R programming language</p>
</div>
</div>
</section>
<section id="sample-statistics" class="level2">
<h2 class="anchored" data-anchor-id="sample-statistics">Sample Statistics</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-1-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-1" role="tab" aria-controls="tabset-1-1" aria-selected="true">Mean</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-2" role="tab" aria-controls="tabset-1-2" aria-selected="false">Variance</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-3" role="tab" aria-controls="tabset-1-3" aria-selected="false">Median?</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-1-4-tab" data-bs-toggle="tab" data-bs-target="#tabset-1-4" role="tab" aria-controls="tabset-1-4" aria-selected="false">Median</a></li></ul>
<div class="tab-content">
<div id="tabset-1-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-1-1-tab">
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Mean
</div>
</div>
<div class="callout-body-container callout-body">
<p>Recall that the mean and the expected value are synonymous.</p>
<p><span class="math display">\[\mu = \text{E}[{\color{blue}X}] = \displaystyle\int_{-\infty}^{\infty} \! {\color{blue}x} \cdot f(x) \, dx = \lambda\displaystyle\int_{0}^{\infty} \! {\color{blue}x} \cdot e^{-\lambda x}\, dx = \displaystyle\frac{1}{\lambda}\]</span></p>
<p>We have shown that the expected value for <span class="math inline">\(X \sim Exp(\lambda)\)</span> is <span class="math inline">\(\text{E}[X] = \displaystyle\frac{1}{\lambda}\)</span>.</p>
</div>
</div>
</div>
<div id="tabset-1-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-2-tab">
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Variance
</div>
</div>
<div class="callout-body-container callout-body">
<p>Further analogues to the formulas used for discrete probability distributions include the the second moment</p>
<p><span class="math display">\[\text{E}[{\color{blue}X^{2}}] = \displaystyle\int_{-\infty}^{\infty} \! {\color{blue}x^{2}} \cdot f(x) \, dx = \lambda\displaystyle\int_{0}^{\infty} \! {\color{blue}x^{2}} \cdot e^{-\lambda x}\, dx = \displaystyle\frac{2}{\lambda^{2}}\]</span></p>
<p>and it follows that the variance for an exponential distribution with rate parameter <span class="math inline">\(\lambda\)</span> is</p>
<p><span class="math display">\[\sigma^{2} = \text{Var}(X) = \text{E}[X^{2}] - \left(\text{E}[X]\right)^{2} = \displaystyle\frac{2}{\lambda^{2}} - \left(\displaystyle\frac{1}{\lambda}\right)^{2} = \displaystyle\frac{1}{\lambda^{2}}\]</span></p>
<p>As usual, the standard deviation is the square root of the variance.</p>
<p><span class="math display">\[\sigma = \sqrt{ \displaystyle\frac{1}{\lambda^{2}} } = \displaystyle\frac{1}{\lambda}\]</span></p>
</div>
</div>
</div>
<div id="tabset-1-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-3-tab">
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Median
</div>
</div>
<div class="callout-body-container callout-body">
<p>Back in discrete data, if we had an ordered list of data, <span class="math display">\[\{ x_{(1)}, x_{(2)}, x_{(3)}, ...\}\]</span> we said that the median is the value in the ``middle’’ of the list.</p>
<p>Query: How do you think we define a median here in the setting of continuous distributions?</p>
</div>
</div>
</div>
<div id="tabset-1-4" class="tab-pane" role="tabpanel" aria-labelledby="tabset-1-4-tab">
<div class="callout-note callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Median
</div>
</div>
<div class="callout-body-container callout-body">
<p>Back in discrete data, if we had an ordered list of data, <span class="math display">\[\{ x_{(1)}, x_{(2)}, x_{(3)}, ...\}\]</span> we said that the median is the value in the ``middle’’ of the list.</p>
<p><img src="fig13-2.png" class="img-fluid"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="waiting-times" class="level2">
<h2 class="anchored" data-anchor-id="waiting-times">Waiting Times</h2>
<p>Let us now return to the notion of waiting times. Suppose that a friend of yours is going to pick you up for a carpool, and you estimate that he tends to arrive with a mean time of 30 minutes. Assume an exponential distribution.</p>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-2-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-1" role="tab" aria-controls="tabset-2-1" aria-selected="true">Normalization</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-2" role="tab" aria-controls="tabset-2-2" aria-selected="false">Less</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-2-3-tab" data-bs-toggle="tab" data-bs-target="#tabset-2-3" role="tab" aria-controls="tabset-2-3" aria-selected="false">More</a></li></ul>
<div class="tab-content">
<div id="tabset-2-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-2-1-tab">
<div class="callout-warning callout callout-style-default callout-captioned">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-caption-container flex-fill">
Careful!
</div>
</div>
<div class="callout-body-container callout-body">
<p><span class="math display">\[\text{Since } \mu = \displaystyle\frac{1}{\lambda} \quad\Rightarrow\quad 30 = \displaystyle\frac{1}{\lambda} \quad\Rightarrow\quad \lambda = \displaystyle\frac{1}{30}\]</span></p>
</div>
</div>
</div>
<div id="tabset-2-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-2-tab">
<p>Compute the probability that your friend will arrive in less than 25 minutes.</p>
<p><img src="fig13-3.png" class="img-fluid"></p>
</div>
<div id="tabset-2-3" class="tab-pane" role="tabpanel" aria-labelledby="tabset-2-3-tab">
<div class="columns">
<div class="column" style="width:33%;">
<p>Compute the probability that your friend will take more than 40 minutes to arrive.</p>
</div><div class="column" style="width:34%;">
<p><img src="ScumbagSteve.png" class="img-fluid"></p>
</div><div class="column" style="width:33%;">
<p><img src="fig13-4.png" class="img-fluid"></p>
</div>
</div>
</div>
</div>
</div>
</section>
<section id="memoryless-property" class="level2">
<h2 class="anchored" data-anchor-id="memoryless-property">Memoryless Property</h2>
<div class="panel-tabset">
<ul class="nav nav-tabs" role="tablist"><li class="nav-item" role="presentation"><a class="nav-link active" id="tabset-3-1-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-1" role="tab" aria-controls="tabset-3-1" aria-selected="true">Example</a></li><li class="nav-item" role="presentation"><a class="nav-link" id="tabset-3-2-tab" data-bs-toggle="tab" data-bs-target="#tabset-3-2" role="tab" aria-controls="tabset-3-2" aria-selected="false">Proof</a></li></ul>
<div class="tab-content">
<div id="tabset-3-1" class="tab-pane active" role="tabpanel" aria-labelledby="tabset-3-1-tab">
<p>You inherit an exquisite cabin in the woods, but on one condition: you must stay in the cabin overnight on the witch’s sabbath—Halloween. The cabin is notorious for housing the ghost of Cal Kulas, and he strikes sometime after the stroke of midnight with a mean time of 60 minutes.</p>
<ul>
<li>Given that you have already waited 32 minutes to see the ghost, what is the probability that you will have to wait at least another 10 minutes?</li>
<li>Given that you have already waited 181 minutes to see the ghost, what is the probability that you will have to wait at least another 10 minutes?</li>
</ul>
</div>
<div id="tabset-3-2" class="tab-pane" role="tabpanel" aria-labelledby="tabset-3-2-tab">
<p><strong>Claim:</strong> An exponential distribution has the memoryless property <span class="math display">\[P(T &gt; a + b | T &gt; b) = P(T &gt; a)\]</span></p>
<p><strong>Proof:</strong></p>
<p><span class="math display">\[\begin{array}{rcl}
      P(T &gt; a + b | T &gt; b) &amp; = &amp; \displaystyle\frac{ P(T &gt; a + b \text{ and } T &gt; b) }{ P(T &gt; b) } \\
      ~ &amp; = &amp; \displaystyle\frac{ P(T &gt; a+b) }{ P(T &gt; b) } \\
      ~ &amp; = &amp; \displaystyle\frac{ e^{-\lambda(a+b)} }{ e^{-\lambda b} } \\
      ~ &amp; = &amp; e^{-\lambda a} \\
      ~ &amp; = &amp; P(T &gt; a) \\
    \end{array}\]</span></p>
<p><strong>Claim:</strong> The exponential distribution is the <em>only</em> continuous distribution with the memoryless property.</p>
<p><strong>Proof:</strong> (See Math 181)</p>
</div>
</div>
</div>
</section>
<section id="looking-ahead" class="level2">
<h2 class="anchored" data-anchor-id="looking-ahead">Looking Ahead</h2>
<div class="columns">
<div class="column" style="width:50%;">
<ul>
<li>due soon
<ul>
<li>WHW6</li>
<li>JHW4</li>
<li>Mid-Semester Survey</li>
</ul></li>
<li>Be mindful of before-lecture quizzes</li>
</ul>
<p>Exam 1 will be on Wed., Mar.&nbsp;1</p>
<ul>
<li>more information in weekly announcements</li>
</ul>
<p>No lecture session for Math 32:</p>
<ul>
<li>Mar 10, Mar 24</li>
</ul>
</div><div class="column" style="width:50%;">
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="Trick_or_Treat.png" class="img-fluid figure-img"></p>
<p></p><figcaption class="figure-caption">art by <span class="citation" data-cites="38mo1">@38mo1</span></figcaption><p></p>
</figure>
</div>
</div>
</div>
<div class="columns">
<div class="column" style="width:50%;">

</div><div class="column" style="width:50%;">

</div>
</div>
<div class="panel-tabset">

</div>


</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    target: function(trigger) {
      return trigger.previousElementSibling;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->



</body></html>