{
  "hash": "a0dc962595def5991b26aaa94dc7c469",
  "result": {
    "markdown": "---\ntitle: \"10: Binomial Distribution\"\nauthor: \"Derek Sollberger\"\ndate: \"2023-02-08\"\n# format: \n#   revealjs:\n#     scrollable: true\nformat: html\n# server: shiny\n---\n\n\n\\newcommand{\\ds}{\\displaystyle}\n\n\n::: {.cell}\n\n:::\n\n\n## Bernoulli Trials\n\nTo continue our exploration of discrete distributions, we will look at situations that have two disjoint possibilities.\n\n:::{.callout-note}\n## Bernoulli Trials\n\nFor math symbols to represent a **Bernoulli trial**, the events $\\{1, 0\\}$ have respective probabilities $p$ and $1-p$.\n:::\n\nFor example, for one flip of a coin\n$$P(\\text{heads}) = p, \\quad P(\\text{tails}) = 1-p$$\n\n![one coin, but not necessarily fair](onecoin.png)\n\n## Arrangements\n\n:::{.callout-note}\n## Permutations\n\nPermutations (and the number of permutations) are the arrangements when order matters\n:::\n\n:::{.callout-tip}\n## Combinations\n\nCombinations (and the number of combinations) are the arrangements when order does not matter\n:::\n\nFlipping 3 fair coins, what is the probability that heads will be observed \nexactly twice?\n\n\n## Possibility Spaces\n\n:::: {.panel-tabset}\n\n## 3 Coins\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoin <- c(\"H\", \"T\")\ndf <- data.frame(expand.grid(coin, coin, coin)) |>\n  tidyr::unite(\"obs\", c(\"Var1\", \"Var2\", \"Var3\"),\n               sep = \"\", remove = FALSE)\n# print\ndput(df$obs)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nc(\"HHH\", \"THH\", \"HTH\", \"TTH\", \"HHT\", \"THT\", \"HTT\", \"TTT\")\n```\n:::\n:::\n\n\n## 4 coins\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoin <- c(\"H\", \"T\")\ndf <- data.frame(expand.grid(coin, coin, coin, coin)) |>\n  tidyr::unite(\"obs\", c(\"Var1\", \"Var2\", \"Var3\", \"Var4\"),\n               sep = \"\", remove = FALSE)\n# print\ndput(df$obs)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nc(\"HHHH\", \"THHH\", \"HTHH\", \"TTHH\", \"HHTH\", \"THTH\", \"HTTH\", \"TTTH\", \n\"HHHT\", \"THHT\", \"HTHT\", \"TTHT\", \"HHTT\", \"THTT\", \"HTTT\", \"TTTT\"\n)\n```\n:::\n:::\n\n\n## 5 coins\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncoin <- c(\"H\", \"T\")\ndf <- data.frame(expand.grid(coin, coin, coin, coin, coin)) |>\n  tidyr::unite(\"obs\", c(\"Var1\", \"Var2\", \"Var3\", \"Var4\", \"Var5\"),\n               sep = \"\", remove = FALSE)\n# print\ndput(df$obs)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nc(\"HHHHH\", \"THHHH\", \"HTHHH\", \"TTHHH\", \"HHTHH\", \"THTHH\", \"HTTHH\", \n\"TTTHH\", \"HHHTH\", \"THHTH\", \"HTHTH\", \"TTHTH\", \"HHTTH\", \"THTTH\", \n\"HTTTH\", \"TTTTH\", \"HHHHT\", \"THHHT\", \"HTHHT\", \"TTHHT\", \"HHTHT\", \n\"THTHT\", \"HTTHT\", \"TTTHT\", \"HHHTT\", \"THHTT\", \"HTHTT\", \"TTHTT\", \n\"HHTTT\", \"THTTT\", \"HTTTT\", \"TTTTT\")\n```\n:::\n:::\n\n\n::::\n\n\n## Choose\n\n:::: {.columns}\n\n\n::: {.column width=\"67%\"}\n$$\\binom{n}{k} = \\ds\\frac{n!}{k!(n-k)!}$$\n\n- said ``n choose k''\n- This choose operator keeps track of the number of permutations in a certain combination\n- note $0! = 1$ (to avoid dividing by zero)\n:::\n\n::: {.column width=\"33%\"}\n![from The Simpsons](choochoochooseyou.png)\n:::\n\n::::\n\n\n## Binomial Distribution\n\n:::{.callout-note}\n## Binomial Distribution\n\n$$P(x = k) = \\binom{n}{k} p^{k}(1-p)^{n-k}$$\n\n- $0 \\leq k \\leq n$, where $n$ and $k$ are whole numbers\n- $0 \\leq p \\leq 1$\n\n:::\n\n\n\n## Example: Squirtle\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n:::{.callout-note}\n## Binomial Distribution\n\n$$P(x = k) = \\binom{n}{k} p^{k}(1-p)^{n-k}$$\n\n- $0 \\leq k \\leq n$, where $n$ and $k$ are whole numbers\n- $0 \\leq p \\leq 1$\n\n:::\n\t\n:::\n\n::: {.column width=\"50%\"}\nHistorically, Squirtle defeats Charizard 32\\% of the time.  If there are 5 battles, what is the probability that Squirtle wins exactly 2 times?\n:::\n\n## Battle Arena\n\n\n::: {.cell}\n\n```{.r .cell-code}\nbattle <- c(\"S\", \"C\")\ndf <- data.frame(expand.grid(battle, battle, battle, battle, battle)) |>\n  tidyr::unite(\"obs\", c(\"Var1\", \"Var2\", \"Var3\", \"Var4\", \"Var5\"),\n               sep = \"\", remove = FALSE)\n# print\ndput(df$obs)\n```\n\n::: {.cell-output .cell-output-stdout}\n```\nc(\"SSSSS\", \"CSSSS\", \"SCSSS\", \"CCSSS\", \"SSCSS\", \"CSCSS\", \"SCCSS\", \n\"CCCSS\", \"SSSCS\", \"CSSCS\", \"SCSCS\", \"CCSCS\", \"SSCCS\", \"CSCCS\", \n\"SCCCS\", \"CCCCS\", \"SSSSC\", \"CSSSC\", \"SCSSC\", \"CCSSC\", \"SSCSC\", \n\"CSCSC\", \"SCCSC\", \"CCCSC\", \"SSSCC\", \"CSSCC\", \"SCSCC\", \"CCSCC\", \n\"SSCCC\", \"CSCCC\", \"SCCCC\", \"CCCCC\")\n```\n:::\n:::\n\n\n\nBut these observations have different weights!\n\n::::\n\n## Example: Charizard\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\n![Charizard](charizard.png)\n\t\n:::\n\n::: {.column width=\"50%\"}\nHistorically, Charizard defeats Squirtle 68\\% of the time.  If there are 5 battles, what is the probability that Charizard wins exactly 3 times?\n:::\n\n::::\n\n## Symmetry\n\n:::: {.panel-tabset}\n\n## Property\n\nThe previous two examples had the same answer, which is true due to a symmetry property in the choose operator:\n\n$$\\binom{n}{k} = \\binom{n}{n-k}$$\n\n## Squirtle\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Math_32_10_Binomial_Distribution_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n\n## Charizard\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Math_32_10_Binomial_Distribution_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n## R code\n\n\n::: {.cell}\n\n```{.r .cell-code}\nk <- 0:5\npk <- dbinom(k, 5, 0.32)\nk_bool <- k == 2\ndf <- data.frame(k, pk, k_bool)\n\ndf |>\n  ggplot(aes(x = k, y = pk, \n             color = k_bool, fill = k_bool)) +\n  geom_bar(stat = \"identity\") +\n  geom_label(aes(x = k, y = pk, \n                 label = round(pk, 4)),\n             color = \"black\", fill = \"white\") +\n  labs(title = \"2 Squirtle Wins\",\n       subtitle = \"n = 5, k = 2, p = 0.32, P(k = 2) = 0.3220\",\n       caption = \"Math 32\",\n       x = \"wins\",\n       y = \"probability\") +\n  scale_color_manual(values = c(\"black\", \"#ca7721\")) +\n  scale_fill_manual(values = c(\"gray70\", \"#297383\")) +\n  theme(\n    legend.position = \"none\",\n    panel.background = element_blank()\n  )\n```\n\n::: {.cell-output-display}\n![](Math_32_10_Binomial_Distribution_files/figure-html/unnamed-chunk-8-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# plotly::ggplotly(ex2_plot)\n```\n:::\n\n::: {.cell}\n\n```{.r .cell-code}\nk <- 0:5\npk <- dbinom(k, 5, 0.68)\nk_bool <- k == 3\ndf <- data.frame(k, pk, k_bool)\n\ndf |>\n  ggplot(aes(x = k, y = pk, \n             color = k_bool, fill = k_bool)) +\n  geom_bar(stat = \"identity\") +\n  geom_label(aes(x = k, y = pk, \n                 label = round(pk, 4)),\n             color = \"black\", fill = \"white\") +\n  labs(title = \"3 Charizard Wins\",\n       subtitle = \"n = 5, k = 3, p = 0.68, P(k = 3) = 0.3220\",\n       caption = \"Math 32\",\n       x = \"wins\",\n       y = \"probability\") +\n  scale_color_manual(values = c(\"black\", \"#de5138\")) +\n  scale_fill_manual(values = c(\"gray70\", \"#e53800\")) +\n  theme(\n    legend.position = \"none\",\n    panel.background = element_blank()\n  )\n```\n\n::: {.cell-output-display}\n![](Math_32_10_Binomial_Distribution_files/figure-html/unnamed-chunk-9-1.png){width=672}\n:::\n\n```{.r .cell-code}\n# plotly::ggplotly(ex2_plot)\n```\n:::\n\n\n::::\n\n:::{.callout-caution}\n## How do we pick between $p$ and $1-p$?\n\nAt first, it does not matter how you define the binomial setting for what corresponds to $p$ and what corresponds to $1-p$, but you need to be consistent in the rest of the task for how you defined your variables and use the value(s) for $k$.\n:::\n\n## Parameters\n\nThe notation $X \\sim Ber(p)$ is read as \"random variable $X$ has a Bernoulli distribution with parameter $p$\".  Compute the expected value and variance for a Bernoulli trial.\n\n## Parameters\n\nThe notation $X \\sim Bin(n,p)$ is read as ``random variable $X$ has a binomial distribution with parameters $n$ and $p$''.  Compute the expected value and variance for a binomial distribution.\n\nWe are assuming that the $n$ trials are \\textit{independent} from each other, where independence in probability means that\n\n$$P\\left(  \\{X_{i}\\}_{i=1}^{n} \\right) = \\ds\\prod_{i=1}^{n} P(X_{i})$$\n\nIn other words, we are sampling the Bernoulli trial $n$ times with replacement, so we can simply multiply the results from the previous example by $n$.\n\n$$\\begin{array}{|c|c|c|}\n\\hline\n\\textbf{mean}               & \\mu & np \\\\ \\hline\n\\textbf{variance}           & \\sigma^{2} & np(1-p) \\\\ \\hline\n\\textbf{standard deviation} & \\sigma & \\sqrt{np(1-p)} \\\\ \\hline\n\\end{array}$$\n\n\n\n## Looking Ahead\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n- due Fri., Feb. 10:\n  - WHW4\n  - JHW2\n  - Demographics Survey Part 1\n- Be mindful of before-lecture quizzes\t\n\nNo lecture session for Math 32: \n\n* Feb 20, Mar 10, Mar 24\n\n:::\n\n::: {.column width=\"50%\"}\n\nExam 1 will be on Wed., Mar. 1\n\n  - more information in weekly announcements\n\n![](decimals.png)\n\n[source](https://mobile.twitter.com/sabrinaesaquino/status/1571877085471195136)\n\n:::\n\n::::\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\t\n:::\n\n::: {.column width=\"50%\"}\n\n:::\n\n::::\n\n:::: {.panel-tabset}\n\n\n\n::::\n",
    "supporting": [
      "Math_32_10_Binomial_Distribution_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}