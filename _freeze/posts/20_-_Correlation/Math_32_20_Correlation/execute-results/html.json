{
  "hash": "daf5f0288079fef4e3864977b24d68c5",
  "result": {
    "markdown": "---\ntitle: \"20: Correlation\"\nauthor: \"Derek Sollberger\"\ndate: \"2023-03-13\"\n# format: \n#   revealjs:\n#     scrollable: true\nformat: html\n# server: shiny\n---\n\n\n\\newcommand{\\ds}{\\displaystyle}\n\n\n::: {.cell}\n\n:::\n\n\n## Setting\n\nWe will once again visualize the act of ordering food at In-n-Out.\n\n- $X$: number of fries orders\n- $Y$: number of beef patties ordered\n\n![joint PMF](pdf.png)\t\n\n:::{.callout-note}\n## Covariance\n\nWe define the **covariance** of random variables as\n\n$$\\text{Cov}(X,Y) = \\text{E}[XY] - \\text{E}[X]\\text{E}[Y]$$\n:::\n\n## Correlation\n\n:::{.callout-note}\n## Correlation\n\nJust like how the $z$-score is a standardized and unitless measure, the **correlation** was designed to be standardized and unitless (i.e. units cancel out).\n\n$$r = \\text{Corr}(X,Y) = \\ds\\frac{ \\text{Cov}(X,Y) }{ \\sqrt{ \\text{Var}(X) \\cdot \\text{Var}(Y)} }$$\n\n- If $\\text{Var}(X) = 0$, the data $X$ are constant, and simply return $r = 0$\n- If $\\text{Var}(Y) = 0$, the data $Y$ are constant, and simply return $r = 0$\n:::\n\n![](pdf.png)\t\n\n- Compute the correlation in the In-n-Out setting\n\n## Interpretation of Correlation\n\n:::{.callout-tip collapse=\"true\"}\n## Ranges\n\n![Ranges](ranges.png)\n\nAside: the infinity-sized expected values might happen in continuous distributions.\n:::\n\n:::{.callout-tip}\n## Interpretation of Correlation\n\nEarly development of the concept of correlation was done by Karl Pearson.  Pearson suggested the following interpretations of the correlation (but there is no strict rule for this):\n\n- $|r| < 0.4$: virtually uncorrelated\n- $0.4 \\leq |r| < 0.7$: slightly correlated\n- $0.7 \\leq |r| \\leq 1.0$: strongly correlated\n:::\n\n## Examples of Correlation\n\n::::: {.panel-tabset}\n\n# R\n\n\n::: {.cell}\n\n```{.r .cell-code}\ncorrelatedValues = function(x, r = 0.9){\n  r2 = r**2\n  ve = 1-r2\n  SD = sqrt(ve)\n  e  = rnorm(length(x), mean=0, sd=SD)\n  y  = r*x + e\n  return(y)\n}\n\nx1 = rnorm(100, mean = 0, sd = 1)\ny1 = correlatedValues(x1, r = -0.9)\nx2 = rnorm(100, mean = 0, sd = 1)\ny2 = correlatedValues(x2, r = -0.4)\nx3 = rnorm(100, mean = 0, sd = 1)\ny3 = correlatedValues(x3, r = 0.0)\nx4 = rnorm(100, mean = 0, sd = 1)\ny4 = correlatedValues(x4, r = 0.4)\nx5 = rnorm(100, mean = 0, sd = 1)\ny5 = correlatedValues(x5, r = 0.9)\n\ndf1 <- data.frame(x1, y1, \"group 1\")\ndf2 <- data.frame(x2, y2, \"group 2\")\ndf3 <- data.frame(x3, y3, \"group 3\")\ndf4 <- data.frame(x4, y4, \"group 4\")\ndf5 <- data.frame(x5, y5, \"group 5\")\nnames(df1) <- c(\"xdata\", \"ydata\", \"group\")\nnames(df2) <- c(\"xdata\", \"ydata\", \"group\")\nnames(df3) <- c(\"xdata\", \"ydata\", \"group\")\nnames(df4) <- c(\"xdata\", \"ydata\", \"group\")\nnames(df5) <- c(\"xdata\", \"ydata\", \"group\")\nmain_df <- rbind(df1, df2, df3, df4, df5)\n```\n:::\n\n\n\n# 1\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Math_32_20_Correlation_files/figure-html/unnamed-chunk-3-1.png){width=672}\n:::\n:::\n\n\n# 2\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Math_32_20_Correlation_files/figure-html/unnamed-chunk-4-1.png){width=672}\n:::\n:::\n\n\n# 3\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Math_32_20_Correlation_files/figure-html/unnamed-chunk-5-1.png){width=672}\n:::\n:::\n\n\n# 4\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Math_32_20_Correlation_files/figure-html/unnamed-chunk-6-1.png){width=672}\n:::\n:::\n\n\n# 5\n\n\n::: {.cell}\n::: {.cell-output-display}\n![](Math_32_20_Correlation_files/figure-html/unnamed-chunk-7-1.png){width=672}\n:::\n:::\n\n\n:::::\n\n## Continuous Joint Probability Distribution Functions\n\n:::: {.columns}\n\n::: {.column width=\"75%\"}\nWe will once again visualize the act of ordering food at In-n-Out.\n\n- $X$: number of fries orders\n- $Y$: number of beef patties ordered\n\nwith joint PDF\n\n$$f(x,y) = \\frac{1}{30}(x + y)e^{-x}e^{-y/5}$$\n\n- Compute the correlation in the In-n-Out setting\n\n:::\n\n::: {.column width=\"25%\"}\n![In-n-Out](innout.png)\t\n:::\n\n::::\n\n\n## Looking Ahead\n\n:::: {.columns}\n\n::: {.column width=\"60%\"}\n- due Fri., Mar. 17:\n  - WHW8\n  - LHW7\n  \n- Exam 2 will be on Mon., Apr. 10\n\n- no lecture on Mar. 24, Apr. 3\n\n:::\n\n::: {.column width=\"40%\"}\n![](maps.png)\n[tweet source](https://mobile.twitter.com/Hyperosonic/status/1583534703193124865)\n\n:::\n\n::::\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n:::: {.columns}\n\n::: {.column width=\"50%\"}\n\t\n:::\n\n::: {.column width=\"50%\"}\n\n:::\n\n::::\n\n::::: {.panel-tabset}\n\n\n\n:::::\n",
    "supporting": [
      "Math_32_20_Correlation_files"
    ],
    "filters": [
      "rmarkdown/pagebreak.lua"
    ],
    "includes": {},
    "engineDependencies": {},
    "preserve": {},
    "postProcess": true
  }
}